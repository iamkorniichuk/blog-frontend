<ng-template #cover>
  <div class="cover">
    <img [src]="tutorial().cover" [alt]="tutorial().title" />
    <app-gradient-overlay [sizePercentage]="10" color="surface" side="b" />
  </div>
</ng-template>

<ng-template #heading>
  <h1>{{ tutorial().title }}</h1>
</ng-template>

<ng-template #meta>
  <div class="flex flex-row items-center justify-between mb-2">
    <app-arrow-scroll class="min-w-0 flex-1 overflow-hidden" color="surface">
      <div class="inline-flex gap-1 pr-4">
        @for (tag of tutorial().tags; track $index) {
          <span class="meta-tag">{{ tag }}</span>
        }
      </div>
    </app-arrow-scroll>

    <span class="meta flex-shrink-0 ml-2">
      {{ tutorial().createdAt | date: 'dd/MM/yy HH:MM' }}
    </span>
  </div>
</ng-template>

<ng-template #solution>
  <h3>Solution:</h3>
  <app-markdown [data]="tutorial().solution"></app-markdown>
</ng-template>

<ng-template #content>
  <app-markdown [data]="tutorial().content"></app-markdown>
</ng-template>

<ng-template #phonePageTemplate>
  <ng-container *ngTemplateOutlet="cover" />
  <ng-container *ngTemplateOutlet="heading" />
  <ng-container *ngTemplateOutlet="meta" />
  <div class="card">
    <ng-container *ngTemplateOutlet="solution" />
  </div>
  <ng-container *ngTemplateOutlet="content" />
</ng-template>

<ng-template #desktopContentTemplate>
  <ng-container *ngTemplateOutlet="cover" />
  <ng-container *ngTemplateOutlet="heading" />
  <ng-container *ngTemplateOutlet="meta" />
  <ng-container *ngTemplateOutlet="content" />
</ng-template>

<ng-template #desktopSolutionCardTemplate>
  <ng-container *ngTemplateOutlet="solution" />
</ng-template>

<app-content-page
  [phonePageTemplate]="phonePageTemplate"
  [desktopContentTemplate]="desktopContentTemplate"
  [desktopCardTemplates]="[desktopSolutionCardTemplate]"
/>
